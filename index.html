<!DOCTYPE html>
<html lang='pt-BR'>
<head>
<meta charset='utf-8' />
<meta name='viewport' content='width=device-width, initial-scale=1' />
<title>Treino da Tatiane</title>
<link rel='manifest' href='manifest.webmanifest'>
<meta name='theme-color' content='#6C5CE7' />
<style>
  :root { --bg:#0f0f12; --card:#171821; --muted:#aab0c0; --text:#f6f6f9; --accent:#6C5CE7; }
  *{ box-sizing:border-box }
  body{ margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; background:var(--bg); color:var(--text); }
  header{ position:sticky; top:0; background:linear-gradient(180deg, rgba(12,12,18,.95), rgba(12,12,18,.85)); backdrop-filter: blur(6px); padding:14px 16px; z-index:10; border-bottom: 1px solid rgba(255,255,255,.06) }
  h1{ font-size:20px; margin:0 0 6px 0 }
  .subtitle{ font-size:12px; color:var(--muted) }
  .container{ padding:16px; max-width:720px; margin:0 auto }
  .tabs{ display:flex; gap:6px; margin:12px 0 16px }
  .tab{ padding:8px 10px; border-radius:10px; background: #10121a; color:var(--muted); border:1px solid rgba(255,255,255,.06); cursor:pointer; font-size:13px }
  .tab.active{ color:#fff; background:var(--accent); border-color:transparent }
  .card{ background:var(--card); border:1px solid rgba(255,255,255,.06); border-radius:16px; padding:14px 14px; margin-bottom:16px }
  .card h2{ font-size:16px; margin:0 0 10px 0 }
  .item{ display:flex; align-items:flex-start; gap:10px; padding:8px 0; border-bottom:1px dashed rgba(255,255,255,.05) }
  .item:last-child{ border-bottom:none }
  input[type=checkbox]{ width:20px; height:20px; accent-color: var(--accent); margin-top:3px }
  label{ flex:1; line-height:1.35 }
  .hint{ color:var(--muted); font-size:12px }
  .row{ display:flex; gap:8px; flex-wrap:wrap; margin-top:8px }
  button{ background:var(--accent); color:white; border:none; border-radius:12px; padding:10px 12px; font-size:14px; cursor:pointer }
  button.secondary{ background:transparent; color:var(--muted); border:1px solid rgba(255,255,255,.15) }
  .footer{ text-align:center; color:var(--muted); font-size:12px; margin:18px 0 40px }
  .timer{ display:flex; align-items:center; gap:6px }
  .big{ font-size:22px; font-weight:700 }
  .install{ display:none }
  .visible{ display:inline-flex }
</style>
</head>
<body>
<header>
  <h1>Treino da Tatiane</h1>
  <div class='subtitle'>Checklist interativo • Funciona offline • Salva seu progresso</div>
</header>
<div class='container'>
  <div class='tabs' id='tabs'></div>
  <div class='row'>
    <div class='timer card' style='flex:1; align-items:center; justify-content:space-between'>
      <div>
        <div class='hint'>Cronômetro de descanso</div>
        <div class='big' id='timer'>00:45</div>
      </div>
      <div class='row'>
        <button id='startBtn'>Iniciar</button>
        <button class='secondary' id='resetBtn'>Resetar</button>
      </div>
    </div>
    <div class='card' style='flex:1'>
      <div class='hint'>Configurações rápidas</div>
      <div class='row'>
        <button id='installBtn' class='install'>Instalar app</button>
        <button class='secondary' id='clearDayBtn'>Limpar dia</button>
      </div>
    </div>
  </div>
  <div id='content'></div>
  <div class='footer'>Dica: marque os exercícios conforme for concluindo. O progresso fica salvo neste aparelho.</div>
</div>
<script>
const PLAN = {
  'Segunda – Pernas (Quadríceps)': [
    'Agachamento Barra Guiada – 4 séries (falha)',
    'Leg Press 45° – 4 séries (falha)',
    'Cadeira Extensora – 4 séries (falha)',
    'Agachamento Taça – 3 séries (falha)',
    'BI-SET: Leg Press 45° – 3×15',
    'BI-SET: Agachamento Taça – 3×15'
  ],
  'Terça – Bíceps + Costas': [
    'Rosca Direta – 3 séries (falha)',
    'Rosca Polia Corda – 3 séries (falha)',
    'BI-SET: Remada Serrote – 3×12',
    'BI-SET: Remada Curvada Barra – 3×12',
    'Remada Baixa Triângulo – 3 séries (falha)',
    'Puxada Invertida – 3 séries (falha)'
  ],
  'Quarta – Posterior + Glúteo': [
    'Cadeira Flexora – 4 séries (falha)',
    'Mesa Flexora – 4 séries (falha)',
    'Stiff com Halter – 4 séries (falha)',
    'Leg Press Pés Altos – 3 séries (falha)',
    'Stiff com Barra – 4 séries (falha)'
  ],
  'Quinta – Ombro + Tríceps': [
    'Desenvolvimento Halter Sentada – 3×12',
    'Elevação Lateral Sentada – 3×12',
    'Elevação Frontal (corda cross) – falha',
    'Tríceps Barra Cross – falha',
    'Tríceps Unilateral – 3×45s',
    'BI-SET: Tríceps Francês – 3×10'
  ],
  'Sexta – Glúteo + Abdutora': [
    'Chute na Polia – falha',
    'Cadeira Abdutora – falha',
    'Chute 4 Apoios com Caneleira – falha',
    'Leg Press Pés Abertos – falha',
    'Elevação Pélvica – falha',
    'Elevação Pélvica Unilateral – falha'
  ]
};
const keyFor = (d)=>`treino-tatiane::${d}`;
const load = (d)=>JSON.parse(localStorage.getItem(keyFor(d))||'{}');
const save = (d,v)=>localStorage.setItem(keyFor(d), JSON.stringify(v));
const tabsEl = document.getElementById('tabs');
const contentEl = document.getElementById('content');
let activeDay = Object.keys(PLAN)[new Date().getDay()-1];
if(!PLAN[activeDay]) activeDay = 'Segunda – Pernas (Quadríceps)';
function renderTabs(){
  tabsEl.innerHTML='';
  Object.keys(PLAN).forEach(day=>{
    const b=document.createElement('button');
    b.className='tab'+(day===activeDay?' active':'');
    b.textContent=day.split(' – ')[0];
    b.onclick=()=>{ activeDay=day; renderTabs(); renderDay(); };
    tabsEl.appendChild(b);
  });
}
function renderDay(){
  const saved=load(activeDay);
  contentEl.innerHTML='';
  const card=document.createElement('div'); card.className='card';
  const h2=document.createElement('h2'); h2.textContent=activeDay; card.appendChild(h2);
  PLAN[activeDay].forEach((txt, idx)=>{
    const row=document.createElement('div'); row.className='item';
    const cb=document.createElement('input'); cb.type='checkbox'; cb.checked=!!saved[idx];
    cb.onchange=()=>{ saved[idx]=cb.checked; save(activeDay, saved); };
    const label=document.createElement('label'); label.textContent=txt;
    row.appendChild(cb); row.appendChild(label); card.appendChild(row);
  });
  contentEl.appendChild(card);
}
renderTabs(); renderDay();
// Limpar dia
 document.getElementById('clearDayBtn').onclick=()=>{
   if(confirm('Apagar marcações do dia atual?')){ localStorage.removeItem(keyFor(activeDay)); renderDay(); }
 };
// Timer 45s
 let timerId=null; let remaining=45; const timerEl=document.getElementById('timer');
 const startBtn=document.getElementById('startBtn'); const resetBtn=document.getElementById('resetBtn');
 function format(s){ const m=Math.floor(s/60); const ss=(s%60).toString().padStart(2,'0'); return `${m.toString().padStart(2,'0')}:${ss}`; }
 function tick(){ remaining--; timerEl.textContent=format(remaining); if(remaining<=0){ clearInterval(timerId); timerId=null; remaining=45; timerEl.textContent='00:45'; try{ new Audio('data:audio/wav;base64,UklGRmQAAABXQVZFZm10IBAAAAABAAEAESsAACJWAAACABYBYWFhYWFhYQ==').play(); }catch(e){} alert('Tempo!'); } }
 startBtn.onclick=()=>{ if(timerId) return; timerId=setInterval(tick,1000); };
 resetBtn.onclick=()=>{ clearInterval(timerId); timerId=null; remaining=45; timerEl.textContent='00:45'; };
// PWA
 if('serviceWorker' in navigator){ navigator.serviceWorker.register('./service-worker.js'); }
 let deferredPrompt; const installBtn=document.getElementById('installBtn');
 window.addEventListener('beforeinstallprompt', (e)=>{ e.preventDefault(); deferredPrompt=e; installBtn.classList.add('visible'); });
 installBtn.addEventListener('click', async ()=>{ if(!deferredPrompt) return; deferredPrompt.prompt(); const { outcome } = await deferredPrompt.userChoice; if(outcome==='accepted'){ installBtn.classList.remove('visible'); } deferredPrompt=null; });
</script>
</body>
</html>